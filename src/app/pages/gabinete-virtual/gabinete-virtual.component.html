<app-header></app-header>

<main class="gabinete-main">
  <div class="gabinete-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h3>Menu Principal</h3>
      </div>
      <nav class="sidebar-nav">

        <!-- Dashboard -->
        <div class="nav-section">
          <ul class="nav-list">
            <li class="nav-item">
              <a routerLink="/gabinete-virtual" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">
                <span class="nav-icon">🏠</span>
                <span class="nav-text">Dashboard</span>
              </a>
            </li>
          </ul>
        </div>

        <!-- Gestão de Usuários (Só Super Admin) -->
        @if (isSuperAdmin()) {
          <div class="nav-section">
            <h4 class="nav-section-title">Gestão de Usuários</h4>
            <ul class="nav-list">
              <li class="nav-item">
                <a routerLink="/gabinete-virtual/gerencia/usuarios" routerLinkActive="active" class="nav-link">
                  <span class="nav-icon">👥</span>
                  <span class="nav-text">Usuários</span>
                </a>
              </li>
              <li class="nav-item">
                <a routerLink="/gabinete-virtual/gerencia/aprovacao" routerLinkActive="active" class="nav-link">
                  <span class="nav-icon">✅</span>
                  <span class="nav-text">Aprovação de Usuários</span>
                </a>
              </li>
              <li class="nav-item">
                 <a routerLink="/gabinete-virtual/servicos-periciais" class="nav-link" routerLinkActive="active">
                  <span class="nav-icon">🏢</span>
                  <span class="nav-text">Serviços Periciais</span>
                </a>
              </li>
            </ul>
          </div>
        }

        <!-- Análise Gerencial (Só Admin e Super Admin) -->
        <!-- Análise Gerencial (Só Admin e Super Admin) -->
@if (isGerencial()) {
  <div class="nav-section">
    <h4 class="nav-section-title">Análise Gerencial</h4>
    <ul class="nav-list">
      <li class="nav-item">
        <a routerLink="/gabinete-virtual/relatorios-gerenciais" routerLinkActive="active" class="nav-link">
          <span class="nav-icon">📊</span>
          <span class="nav-text">Relatórios de Ocorrências</span>
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/gabinete-virtual/relatorios-os" routerLinkActive="active" class="nav-link">
          <span class="nav-icon">📋</span>
          <span class="nav-text">Relatórios de OS</span>
        </a>
      </li>
    </ul>
  </div>
}

        <!-- Cadastros Administrativos -->
        <div class="nav-section">
          <h4 class="nav-section-title">Cadastros Administrativos</h4>
          <ul class="nav-list">
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/cadastros/cidades" routerLinkActive="active" class="nav-link">
                <span class="nav-icon">🌍</span>
                <span class="nav-text">Cidades</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/cadastros/cargos" routerLinkActive="active" class="nav-link">
                <span class="nav-icon">💼</span>
                <span class="nav-text">Cargos</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/cadastros/autoridades" routerLinkActive="active" class="nav-link">
                <span class="nav-icon">⚖️</span>
                <span class="nav-text">Autoridades</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/cadastros/unidades-demandantes" routerLinkActive="active" class="nav-link">
                <span class="nav-icon">🏢</span>
                <span class="nav-text">Unidades Demandantes</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/cadastros/procedimentos" routerLinkActive="active" class="nav-link">
                <span class="nav-icon">📋</span>
                <span class="nav-text">Procedimentos</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/cadastros/exames"
                routerLinkActive="active"
                class="nav-link">
                <span class="nav-icon">🔬</span>
                <span class="nav-text">Exames</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/cadastros/procedimentos-cadastrados" routerLinkActive="active" class="nav-link">
                <span class="nav-icon">📁</span>
                <span class="nav-text">Procedimentos Cadastrados</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/cadastros/classificacoes" routerLinkActive="active" class="nav-link">
                <span class="nav-icon">📚</span>
                <span class="nav-text">Classificações</span>
              </a>
            </li>
            <li class="nav-item">
            <a routerLink="/gabinete-virtual/cadastros/tipos-documento"
              routerLinkActive="active"
              class="nav-link">
              <span class="nav-icon">📄</span>
              <span class="nav-text">Tipos de Documento</span>
            </a>
          </li>
          </ul>
        </div>

        <!-- Área Operacional -->
        <div class="nav-section">
          <h4 class="nav-section-title">Área Operacional</h4>
          <ul class="nav-list">
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/operacional/ocorrencias"
                routerLinkActive="active"
                class="nav-link">
                <span class="nav-icon">🚨</span>
                <span class="nav-text">Ocorrências</span>
              </a>
            </li>
             <!-- ✅ NOVO - ANÁLISE CRIMINAL COM BADGE -->
            <li class="nav-item">
              <a routerLink="/gabinete-virtual/operacional/analise-criminal"
                routerLinkActive="active"
                class="nav-link">
                <span class="nav-icon">🗺️</span>
                <span class="nav-text">Análise Criminal</span>
                <span class="badge-novo">Inteligência</span>
              </a>
            </li>
                    <!-- 🤖 ASSISTENTE IA (NOVO) -->
          <li class="nav-item">
            <a routerLink="/gabinete-virtual/assistente-ia"
              routerLinkActive="active"
              class="nav-link">
              <span class="nav-icon">🤖</span>
              <span class="nav-text">Assistente IA</span>
              <span class="badge-novo">Em desenvolvimento</span>
            </a>
          </li>
            <li class="nav-item">
            <a routerLink="/gabinete-virtual/operacional/ordens-servico"
              routerLinkActive="active"
              class="nav-link">
              <span class="nav-icon">📋</span>
              <span class="nav-text">Ordens de Serviço</span>
            </a>
          </li>
          </ul>
        </div>

      </nav>
    </aside>

    <!-- Conteúdo Principal -->
    <div class="main-content-area">
      <router-outlet></router-outlet>
    </div>
  </div>
</main>

<app-footer></app-footer>
